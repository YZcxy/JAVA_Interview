Q：**什么是VPN?**  
A：VPN (Virtual Private Network) ，虚拟专用网络，可以让公网上的任意两台主机，进入一个虚拟的局域网中，并且局域网中数据通讯是加密的，不用担心数据在公网上的安全问题，和家庭局域网没什么区别。  
简而言之：**VPN实质上就是利用加密技术在公网上封装出一个数据通讯隧道。**   

Q：**为什么需要VPN（VPN能解决什么问题）？**  
A：距离问题，随着业务的发展，业务遍布全球，如何让异地的客户端访问总部的服务器呢？  
方案一是专线，即每一个异地网络使用一条专线连接到总部，缺点显而易见，专线费用昂贵，并且只能连接总部，不能访问互联网。  
方案二就是VPN，既然总部和各异地网络都可以访问互联网，那么就可以在公共网络上建立一条虚拟的隧道，即虚拟专用网络。   

Q：**VPN工作在哪一层？**  
A：VPN的隧道协议主要有四种，PPTP（点到点隧道协议）、L2TP（二层隧道协议）、IPSec和SSL。其中PPTP和L2TP协议工作在OSI模型的第二层；IPSec是第三层隧道协议；而SSL是工作在OSI会话层之上的协议。  

Q：**VPN的分类？**  
A：可以大致分为三类：  

- PPTP、L2TP：这两个技术主要用于异地PC向总部方向建立VPN，但是PPTP、L2TP不支持加密（PPTP的兼容性没有L2TP好），但是这两类技术都拥有很灵活的动态身份认证机制，因此非常适合远程PC拨号接入场景。  
- IPSec：通用性最强的VPN安全技术，能够适应异地分支和总部互联，也适用于异地PC向总部发起连接；可以单独使用，也可以和L2TP结合，保证L2TP的安全，但是IPSec的动态身份认证功能较弱，不太适用于大量动态用户拨号的场景，比较适合接入数量相对稳定的场景，此外IPSec功能复杂，PC上通常是通过各厂家专用客户端实现，因此IPSec技术更适合异地分支和总部网络互连的场景。  
- SSL VPN：以HTTPS（Secure HTTP，安全的HTTP，即支持SSL的HTTP协议）为基础的VPN技术，工作在传输层和应用层之间。SSL VPN充分利用了SSL协议提供的基于证书的身份认证、数据加密和消息完整性验证机制，可以为应用层之间的通信建立安全连接。SSL VPN广泛应用于基于Web的远程安全接入，为用户远程访问公司内部网络提供了安全保证。  

Q：**VPN之间的对比和差异？**  
A：

|             | L2TP                               | **SSL VPN**                       | **IPSec**                                        |
| ----------- | ---------------------------------- | --------------------------------- | ------------------------------------------------ |
| 发起方      | 远端PC                             | 远端PC                            | 总部、分支、远端PC                               |
| 身份验证    | 基于PPP认证                        | 用户名+口令+证书                  | 地址或名字+口令或证书                            |
| 加密保证    | 无                                 | 有                                | 有                                               |
| 地址分配    | 有                                 | 有                                | 无                                               |
| 客户端      | XP自带或第三方                     | 免安装式浏览器插件                | 通常为厂家设备内部实现，PC使用厂家专用客户端     |
| 兼容互通性  | 优良，基本上各个厂家都兼容XP客户端 | PC使用浏览器打开VPN，与浏览器相关 | 优良，已经达到工业化标准成都，大部分厂家能够互通 |
| 资源消耗    | 轻                                 | 重                                | 中                                               |
| 性能加速    | 无                                 | 加密卡硬件加速                    | 加密卡硬件加速                                   |
| 隧道穿越NAT | 可以                               | 可以                              | 可以                                             |

